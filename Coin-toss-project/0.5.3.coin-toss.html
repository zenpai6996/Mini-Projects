<!DOCTYPE html>
<html>
    <head>
        <title>COIN TOSS GAME</title>
    </head>
    <body>
        <P> COIN TOSS GAME </P>
        <P> CHOOSE HEADS OR TAILS </P>
        <button onclick="playCoinTossGame('Heads')">Heads</button>
        <button onclick="playCoinTossGame('Tails')">Tails</button>
        <p class="js-result1"></p>
        <p class="js-moves1"></p>
        <p class="js-score1"></p>
        <button onclick="
            score.wins= 0;
            score.losses=0;
            localStorage.removeItem('score');
            updateScoreElement1();
        ">Reset Score</button>

        <script>

            let score = JSON.parse(localStorage.getItem('score')) ||{
                wins :0,
                losses :0
            };

            updateScoreElement1();

            function pickcomputerMove1(){

                const randomNumber = Math.random();

                let result='';

                if (randomNumber >= 0 && randomNumber < 1/2){
                    result  = 'Heads';
                }else if(randomNumber >= 1/2 && randomNumber < 1){
                    result = 'Tails';
                }

                return result;
            }



            function playCoinTossGame(playerinput){

                const result = pickcomputerMove1();

                let verdict = '';

                if(playerinput === 'Heads' && result ==='Heads'){
                    verdict ='you won the coin toss :)';
                }else if(playerinput === 'Tails' && result === 'Heads'){
                    verdict ='you lost the coin toss :(';
                }else if(playerinput === 'Tails' && result === 'Tails'){
                    verdict = 'you won the coin toss :)';
                }else if(playerinput === 'Heads' && result === 'Tails'){
                    verdict = 'you lost the coin toss :(';
                }

                if(verdict === 'you won the coin toss :)'){
                    score.wins += 1;
                }else if (verdict === 'you lost the coin toss :('){
                    score.losses += 1;
                }

                localStorage.setItem('score',JSON.stringify(score));

                updateScoreElement1();

                document.querySelector('.js-result1').innerHTML = `Result of coin toss was ${result}`;

                document.querySelector('.js-moves1').innerHTML = `You picked ${playerinput}. `;

            }

            function updateScoreElement1(){
                document.querySelector('.js-score1')
                .innerHTML = `Wins:${score.wins},Losses:${score.losses}`;
            }
        </script>
    </body>
</html>